# Домашнее задание к занятию «Компьютерные сети. Лекция 2»

### Дополнительные материалы для выполнения задания

1. [Онлайн-калькулятор сетей](https://calculator.net/ip-subnet-calculator.html).
2. Калькулятор сетей — программа ipcalc (`apt install ipcalc`). Если есть графический интерфейс, то у программы-калькулятора есть инженерный режим, там можно считать и сети.

------

## Задание

1. Проверьте список доступных сетевых интерфейсов на вашем компьютере. Какие команды есть для этого в Linux и в Windows?

***Ответ:***

```
# Для Windows
      PS C:\WINDOWS\system32> ipconfig
            Настройка протокола IP для Windows
            Адаптер Ethernet vEthernet (Default Switch):
               DNS-суффикс подключения . . . . . :
               Локальный IPv6-адрес канала . . . : fe80::9eea:5447:d1c3:8f8b%11
               IPv4-адрес. . . . . . . . . . . . : 172.30.112.1
               Маска подсети . . . . . . . . . . : 255.255.240.0
               Основной шлюз. . . . . . . . . :
            Адаптер Ethernet vEthernet (Беспроводная се):
               DNS-суффикс подключения . . . . . :
               Локальный IPv6-адрес канала . . . : fe80::edfb:1564:22b6:36e3%66
               IPv4-адрес. . . . . . . . . . . . : 172.27.0.1
               Маска подсети . . . . . . . . . . : 255.255.240.0
               Основной шлюз. . . . . . . . . :
            Адаптер Ethernet vEthernet (WSL):
               DNS-суффикс подключения . . . . . :
               Локальный IPv6-адрес канала . . . : fe80::aae2:950:195d:2ca3%83
               IPv4-адрес. . . . . . . . . . . . : 172.22.64.1
               Маска подсети . . . . . . . . . . : 255.255.240.0
               Основной шлюз. . . . . . . . . :
            Адаптер Ethernet VirtualBox Host-Only Network:
               DNS-суффикс подключения . . . . . :
               IPv4-адрес. . . . . . . . . . . . : 192.168.56.1
               Маска подсети . . . . . . . . . . : 255.255.255.0
               Основной шлюз. . . . . . . . . :
            Адаптер Ethernet VirtualBox Host-Only Network #2:
               DNS-суффикс подключения . . . . . :
               Локальный IPv6-адрес канала . . . : fe80::b75:5f6d:453d:2eea%18
               IPv4-адрес. . . . . . . . . . . . : 192.168.33.1
               Маска подсети . . . . . . . . . . : 255.255.255.0
               Основной шлюз. . . . . . . . . :
            Адаптер беспроводной локальной сети Подключение по локальной сети* 9:
               Состояние среды. . . . . . . . : Среда передачи недоступна.
               DNS-суффикс подключения . . . . . :
            Адаптер беспроводной локальной сети Подключение по локальной сети* 10:
               Состояние среды. . . . . . . . : Среда передачи недоступна.
               DNS-суффикс подключения . . . . . :
            Адаптер беспроводной локальной сети Беспроводная сеть:
               DNS-суффикс подключения . . . . . :
               IPv4-адрес. . . . . . . . . . . . : 192.168.1.3
               Маска подсети . . . . . . . . . . : 255.255.255.0
               Основной шлюз. . . . . . . . . : 192.168.1.1
            Адаптер Ethernet vEthernet (VirtualBox Host):
               DNS-суффикс подключения . . . . . :
               Локальный IPv6-адрес канала . . . : fe80::e619:4748:409d:2b%35
               IPv4-адрес. . . . . . . . . . . . : 172.18.240.1
               Маска подсети . . . . . . . . . . : 255.255.240.0
               Основной шлюз. . . . . . . . . :
            Адаптер Ethernet vEthernet (VirtualBox Host) 2:
               DNS-суффикс подключения . . . . . :
               Локальный IPv6-адрес канала . . . : fe80::4704:2b1e:ca87:35da%41
               IPv4-адрес. . . . . . . . . . . . : 172.17.64.1
               Маска подсети . . . . . . . . . . : 255.255.240.0
               Основной шлюз. . . . . . . . . :
# Для Linux
      vagrant@vagrant:~$ ip -br link show
            lo               UNKNOWN        00:00:00:00:00:00 <LOOPBACK,UP,LOWER_UP>
            eth0             UP             08:00:27:59:cb:31 <BROADCAST,MULTICAST,UP,LOWER_UP>
            eth1             UP             08:00:27:5c:65:9a <BROADCAST,MULTICAST,UP,LOWER_UP>
```

2. Какой протокол используется для распознавания соседа по сетевому интерфейсу? Какой пакет и команды есть в Linux для этого?

***Ответ:***

* Протокол `LLDP` - протокол для обмена информацией между соседними устройствами, позволяет определить к какому порту коммутатора подключен сервер.
* Пакет `lldpd`

``` 
vagrant@vagrant:~$ lldpctl
      -------------------------------------------------------------------------------
      LLDP neighbors:
      -------------------------------------------------------------------------------
```

3. Какая технология используется для разделения L2-коммутатора на несколько виртуальных сетей? Какой пакет и команды есть в Linux для этого? Приведите пример конфига.

***Ответ:***

* Технология `VLAN` - виртуальная локальная сеть (Virtual LAN)
* Пакет для Ubuntu `vlan`

```
vagrant@vagrant:~$ sudo ip link add link eth1 name eth1.10 type vlan id 10
vagrant@vagrant:~$ sudo ip -d link show eth1.10
   5: eth1.10@eth1: <BROADCAST,MULTICAST> mtu 1500 qdisc noop state DOWN mode DEFAULT group default qlen 1000
      link/ether 08:00:27:5c:65:9a brd ff:ff:ff:ff:ff:ff promiscuity 0 minmtu 0 maxmtu 65535
      vlan protocol 802.1Q id 10 <REORDER_HDR> addrgenmode eui64 numtxqueues 1 numrxqueues 1 gso_max_size 65536 gso_max_segs 65535
vagrant@vagrant:~$ sudo ip addr add 192.168.1.200/24 brd 192.168.1.255 dev eth1.10
vagrant@vagrant:~$ sudo ip link set dev eth1.10 up
```

4. Какие типы агрегации интерфейсов есть в Linux? Какие опции есть для балансировки нагрузки? Приведите пример конфига.

***Ответ:***

* Типы агрегации (связывание несколько сетевых интерфейсов в один логический интерфейс) портов `LAG` - статический и динамический.
* Режимы поведения связаных интерфейсов - "горячий" резерв, балансировка нагрузки, мониторинг целостности канала.


5. Сколько IP-адресов в сети с маской /29 ? Сколько /29 подсетей можно получить из сети с маской /24. Приведите несколько примеров /29 подсетей внутри сети 10.10.10.0/24.

***Ответ:***

* В подсети с маской /29 будет 8 адресов, 6 из них узловых, которые можно использовать.

* Из сети с маской /24 можно получить 32 подсети с маской /29. 

```
vagrant@vagrant:~$ ipcalc -b 10.10.10.0/29
      Address:   10.10.10.0
      Netmask:   255.255.255.248 = 29
      Wildcard:  0.0.0.7
      =>
      Network:   10.10.10.0/29
      HostMin:   10.10.10.1
      HostMax:   10.10.10.6
      Broadcast: 10.10.10.7
      Hosts/Net: 6                     Class A, Private Internet
vagrant@vagrant:~$ ipcalc -b 10.10.10.8/29
      Address:   10.10.10.8
      Netmask:   255.255.255.248 = 29
      Wildcard:  0.0.0.7
      =>
      Network:   10.10.10.8/29
      HostMin:   10.10.10.9
      HostMax:   10.10.10.14
      Broadcast: 10.10.10.15
      Hosts/Net: 6                     Class A, Private Internet
```

6. Задача: вас попросили организовать стык между двумя организациями. Диапазоны 10.0.0.0/8, 172.16.0.0/12, 192.168.0.0/16 уже заняты. Из какой подсети допустимо взять частные IP-адреса? Маску выберите из расчёта — максимум 40–50 хостов внутри подсети.

7. Как проверить ARP-таблицу в Linux, Windows? Как очистить ARP-кеш полностью? Как из ARP-таблицы удалить только один нужный IP?



---
